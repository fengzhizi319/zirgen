package(
    default_visibility = ["//visibility:public"],
)

load("//bazel/rules/lit:defs.bzl", "glob_lit_tests")

glob_lit_tests()

cc_library(
    name = "bibc_utils",
    testonly = True,
    srcs = [
        "bibc.cpp",
    ],
    hdrs = [
        "bibc.h",
    ],
    deps = [
        "//risc0/core/test:gtest_main",
        "//zirgen/Dialect/BigInt/Bytecode",
        "//zirgen/Dialect/BigInt/IR",
        "//zirgen/Dialect/BigInt/Transforms",
        "//zirgen/circuit/bigint:lib",
    ],
)

cc_test(
    name = "const_add",
    size = "small",
    srcs = ["const_add.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "const_add_alt",
    size = "small",
    srcs = ["const_add_alt.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "const_mul",
    size = "small",
    srcs = ["const_mul.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "add",
    size = "small",
    srcs = ["add.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "const_one",
    size = "small",
    srcs = ["const_one.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "const_twobyte",
    size = "small",
    srcs = ["const_twobyte.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "sub",
    size = "small",
    srcs = ["sub.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "mul",
    size = "small",
    srcs = ["mul.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "reduce",
    size = "small",
    srcs = ["reduce.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "nondet_inv",
    size = "small",
    srcs = ["nondet_inv.cpp"],
    deps = [":bibc_utils"],
)

cc_test(
    name = "rsa",
    size = "small",
    srcs = ["rsa.cpp"],
    deps = [":bibc_utils"],
)
